{
  "steps": [
    {
      "step": "register",
      "status": 200,
      "body": "{\"success\":true,\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzksInVzZXJuYW1lIjoiaXRlc3RfMTc2NTE2NTU3NTA1OCIsImlhdCI6MTc2NTE2NTU3NiwiZXhwIjoxNzY1NzcwMzc2fQ.Bqfq2u_OL0fr6PaCjC6QOG4z0LWPygPTemIFZ43J88w\"}"
    },
    {
      "step": "login",
      "status": 200,
      "body": {
        "success": true,
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzksInVzZXJuYW1lIjoiaXRlc3RfMTc2NTE2NTU3NTA1OCIsImlhdCI6MTc2NTE2NTU3NiwiZXhwIjoxNzY1NzcwMzc2fQ.Bqfq2u_OL0fr6PaCjC6QOG4z0LWPygPTemIFZ43J88w",
        "nickname": "ITest"
      }
    },
    {
      "step": "post_goals",
      "status": 500,
      "body": {
        "success": false,
        "error": "EPERM: operation not permitted, rename 'E:\\專題 後端\\diet-server\\data\\.db.json.tmp' -> 'E:\\專題 後端\\diet-server\\data\\db.json'"
      }
    },
    {
      "step": "get_goals",
      "status": 200,
      "body": {
        "success": true,
        "data": null
      }
    },
    {
      "step": "report_json",
      "status": 200,
      "body": "{\"success\":true,\"data\":{\"totalRecords\":3,\"totalCalories\":1400,\"daily\":{\"2025-12-08\":1400},\"mostCommon\":[{\"name\":\"晚餐 2025-12-08 - 青菜豆腐\",\"count\":1},{\"name\":\"午餐 2025-12-08 - 雞肉飯\",\"count\":1},{\"name\":\"早餐 2025-12-08 - 蛋饅頭\",\"count\":1}]}}"
    },
    {
      "step": "report_csv_status",
      "status": 200
    },
    {
      "step": "report_csv_saved",
      "file": "monthly_report.csv"
    },
    {
      "step": "post_metric",
      "status": 500,
      "body": {
        "success": false,
        "error": "Cannot read properties of undefined (reading 'push')"
      }
    },
    {
      "step": "get_metrics",
      "status": 500,
      "body": {
        "success": false,
        "error": "Cannot read properties of undefined (reading 'filter')"
      }
    }
  ],
  "posted": [
    {
      "status": 200,
      "body": {
        "success": true,
        "id": 111
      }
    },
    {
      "status": 200,
      "body": {
        "success": true,
        "id": 112
      }
    },
    {
      "status": 200,
      "body": {
        "success": true,
        "id": 113
      }
    }
  ],
  "debug": {
    "success": true,
    "keys": [
      "_internal",
      "createFood",
      "createMetric",
      "createUser",
      "deleteFood",
      "findUserByUsername",
      "getGoalsByUser",
      "init",
      "listFoodsByUser",
      "listMetricsByUser",
      "listUsers",
      "updateFood",
      "upsertGoals"
    ]
  }
}